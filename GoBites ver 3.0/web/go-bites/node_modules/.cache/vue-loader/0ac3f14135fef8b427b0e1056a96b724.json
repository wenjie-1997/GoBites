{"remainingRequest":"/home/pharveish/goBites/sprint2/Flutter_App_GoBites/GoBites ver 2.0/web/go-bites/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/pharveish/goBites/sprint2/Flutter_App_GoBites/GoBites ver 2.0/web/go-bites/src/views/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/pharveish/goBites/sprint2/Flutter_App_GoBites/GoBites ver 2.0/web/go-bites/src/views/Login.vue","mtime":1607665803542},{"path":"/home/pharveish/goBites/sprint2/Flutter_App_GoBites/GoBites ver 2.0/web/go-bites/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/pharveish/goBites/sprint2/Flutter_App_GoBites/GoBites ver 2.0/web/go-bites/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/pharveish/goBites/sprint2/Flutter_App_GoBites/GoBites ver 2.0/web/go-bites/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/pharveish/goBites/sprint2/Flutter_App_GoBites/GoBites ver 2.0/web/go-bites/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CiAgICBBVVRIX1JFUVVFU1QKfSBmcm9tICIuLi9zdG9yZS9hY3Rpb25zL2F1dGgiOwoKaW1wb3J0IHsKICAgIG1hcFN0YXRlCn0gZnJvbSAndnVleCc7CgppbXBvcnQgbG9hZGluZyBmcm9tICcuLi9taXhpbnMvbG9hZGluZy52dWUnCmltcG9ydCBVc2VyRGF0YVNlcnZpY2UgZnJvbSAiLi4vc2VydmljZXMvVXNlckRhdGFTZXJ2aWNlIjsKCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICdMb2dpbicsCiAgICBjb21wb25lbnRzOiB7CiAgICAgICAgbG9hZGluZwogICAgfSwKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgdXNlcm5hbWU6ICcnLAogICAgICAgICAgICBwYXNzd29yZDogJycsCiAgICAgICAgICAgIG1lc3NhZ2U6ICJFaXRoZXIgcGFzc3dvcmQgb3IgdXNlcm5hbWUgaXMgaW52YWxpZCIsCiAgICAgICAgICAgIGlzTG9hZGluZzogZmFsc2UsCiAgICAgICAgICAgIGFkbWluOiBudWxsLAogICAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgYXN5bmMgZ2V0QWRtaW5JbmZvcm1hdGlvbigpIHsKICAgICAgICAgICAgY29uc3QgdHlwZSA9ICJhZG1pbiI7CiAgICAgICAgICAgIGF3YWl0IFVzZXJEYXRhU2VydmljZS5nZXRBbGxVc2Vyc09mU2FtZVR5cGUodHlwZSkKICAgICAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGFbMF0pOwogICAgICAgICAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZG1pbiA9IHJlc3BvbnNlLmRhdGFbMF07CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIGxvZ2luOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmKHRoaXMuYWRtaW4gPT09IG51bGwpIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCJFcnJvciEgQ2hlY2sgeW91ciBkYXRhYmFzZSBjb25uZWN0aW9uIik7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgY29uc3QgewogICAgICAgICAgICAgICAgdXNlcm5hbWUsCiAgICAgICAgICAgICAgICBwYXNzd29yZCwKICAgICAgICAgICAgICAgIGFkbWluCiAgICAgICAgICAgIH0gPSB0aGlzOwoKICAgICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goQVVUSF9SRVFVRVNULCB7CiAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWUsCiAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQsCiAgICAgICAgICAgICAgICAgICAgYWRtaW4KICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAudGhlbigKICAgICAgICAgICAgICAgICAgICAoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvIik7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKTsKCiAgICAgICAgICAgIGlmICh0aGlzLmxvZ2luU3RhdHVzID09PSAiZmFpbCIpIHsKICAgICAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICBhbGVydCh0aGlzLm1lc3NhZ2UpOwogICAgICAgICAgICAgICAgdGhpcy51c2VybmFtZSA9ICcnOwogICAgICAgICAgICAgICAgdGhpcy5wYXNzd29yZCA9ICcnOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSwKICAgIGNvbXB1dGVkOiB7CiAgICAgICAgLi4ubWFwU3RhdGUoewogICAgICAgICAgICBsb2dpblN0YXR1czogc3RhdGUgPT4gc3RhdGUuYXV0aC5zdGF0dXMKICAgICAgICB9KQogICAgfSwKICAgIG1vdW50ZWQoKSB7CiAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlOwogICAgICAgIHRoaXMuZ2V0QWRtaW5JbmZvcm1hdGlvbigpOwogICAgfQp9Cg=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n<div id=\"login\">\n    <content>\n        <form class=\"login-form\" method=\"post\" @submit.prevent=\"login\">\n            <loading v-if='isLoading' />\n            <div class=\"form-content form-custom\" v-if=\"admin\">\n                <h3>Login</h3>\n\n                <div class=\"form-group\">\n                    <input type=\"text\" id=\"userName\" v-model=\"username\" class=\"form-control\" placeholder=\"Username\" required />\n                </div>\n\n                <div class=\"form-group\">\n                    <input type=\"password\" id=\"userPassword\" v-model=\"password\" class=\"form-control\" placeholder=\"Password\" autocomplete=\"off\" required />\n                </div>\n\n                <div class=\"login-btn\">\n                    <button type=\"submit\" class=\"btn btn-primary btn-block\" :disabled=\"isLoading\">Login</button>\n                </div>\n            </div>\n\n        </form>\n    </content>\n</div>\n</template>\n\n<script>\nimport {\n    AUTH_REQUEST\n} from \"../store/actions/auth\";\n\nimport {\n    mapState\n} from 'vuex';\n\nimport loading from '../mixins/loading.vue'\nimport UserDataService from \"../services/UserDataService\";\n\nexport default {\n    name: 'Login',\n    components: {\n        loading\n    },\n    data() {\n        return {\n            username: '',\n            password: '',\n            message: \"Either password or username is invalid\",\n            isLoading: false,\n            admin: null,\n        }\n    },\n    methods: {\n        async getAdminInformation() {\n            const type = \"admin\";\n            await UserDataService.getAllUsersOfSameType(type)\n                .then((response) => {\n                    console.log(response.data[0]);\n                    this.isLoading = false;\n                    this.admin = response.data[0];\n                })\n                .catch((e) => {\n                    console.log(e);\n                });\n        },\n        login: function () {\n            if(this.admin === null) {\n                alert(\"Error! Check your database connection\");\n                return;\n            }\n\n            this.isLoading = true;\n            const {\n                username,\n                password,\n                admin\n            } = this;\n\n            this.$store.dispatch(AUTH_REQUEST, {\n                    username,\n                    password,\n                    admin\n                })\n                .then(\n                    () => {\n                        this.isLoading = false;\n                        this.$router.push(\"/\");\n                    }\n                );\n\n            if (this.loginStatus === \"fail\") {\n                this.isLoading = false;\n                alert(this.message);\n                this.username = '';\n                this.password = '';\n                return;\n            }\n        }\n    },\n    computed: {\n        ...mapState({\n            loginStatus: state => state.auth.status\n        })\n    },\n    mounted() {\n        this.isLoading = true;\n        this.getAdminInformation();\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.login-form {\n    min-width: 150px;\n    max-width: 450px;\n    position: relative;\n    top: 50%;\n    left: 50%;\n    margin-top: 300px;\n    transform: translate(-50%, -50%);\n    -ms-transform: translate(-50%, -50%);\n    /* IE 9 */\n    -webkit-transform: translate(-50%, -50%);\n    /* Chrome, Safari, Opera */\n    background-color: rgba(151, 38, 38, 0);\n\n    .form-custom {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        background-color: rgba(184, 20, 20, 0);\n        border: 10px inset rgb(117, 207, 235);\n        padding: 10px 10px 10px 10px;\n        box-shadow: inset 0 0 10px;\n        transition: 0.2s;\n\n        .form-control {\n            border-radius: 24px;\n            box-shadow: 10px 5px 5px rgb(76, 194, 214);\n\n            &:focus {\n                border-color: #167bff;\n                box-shadow: none;\n            }\n        }\n\n        .login-btn {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n\n            button {\n                border-radius: 24px;\n                width: 100px;\n\n                &:hover {\n                    border-color: #167bff;\n                    box-shadow: 10px 5px 5px rgb(76, 194, 214);\n                }\n            }\n        }\n\n        &:hover {\n            border: 10px outset rgb(117, 207, 235);\n            padding: 20px 20px 20px 20px;\n            box-shadow: 5px 5px 10px;\n            transition: 0.2s;\n        }\n    }\n}\n</style>\n"]}]}